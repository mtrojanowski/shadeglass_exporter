<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WHU Data Exporter</title>
    <link rel="stylesheet" href="styles.css">
    <script src="index.js" type="module"></script>
</head>
<body>
<div class="container">
<h1>WHU Data Exporter</h1>
<p>Export tournament data from popular TO apps to WHU Statistics data format.</p>
<form>
    <div>
        <label>Import source:</label>
        <label><input type="radio" name="importSource" value="bcp" checked> BCP</label>
        <label><input type="radio" name="importSource" value="shadeglass"> Shadeglass</label>
    </div>
    <div>
        <label for="token">BCP access token</label>
        <input type="text" id="token" />
    </div>
    <div>
        <label for="tournament">Input public URL for the tournament, or tournament ID</label>
        <input type="text" id="tournament" />
    </div>
    <div>
        <button type="button" onclick="withLoader(this, processData)()">Process</button>
        <span class="loader">.</span>
    </div>
</form>
<div id="invalidateCache" style="display: none">
    <button id="invalidateCacheButton" onclick="withLoader(this, invalidateCacheForCurrentEvent)()">Refresh event data</button>
    <span class="loader">.</span>
</div>
<div>
    <table id="playersTable">
        <thead>
            <tr>
                <th>Name</th>
                <th>Faction</th>
                <th>Decklist URL</th>
                <th>Decks</th>
                <th></th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</div>

<div id="continueProcessing" style="display: none">
    <button onclick="withLoader(this, continueProcessing)()">Continue</button>
    <span class="loader">.</span>

    <div class="results">
        <label for="result">Tournament result in stats format:</label>
        <textarea id="result">

        </textarea>
    </div>
</div>
</div>
</body>
</html>
